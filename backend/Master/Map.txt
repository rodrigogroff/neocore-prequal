

--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
NEOCORE-BUREAU.COM.BR																									PORT			INSTALL		CERT		TECH
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
   ws.neocore-bureau.com.br	=>  Web Service (portal)	=>	216.238.111.243		=> USD 7,5		// 1c, 1GB, 25 GB sto   443             OK          OK			Node (dev)		
  api.neocore-bureau.com.br	=>  router nginx			=>	216.238.119.40		=> USD 7,5		// 1c, 1GB, 25 GB sto   443             OK			OK			nginx
   db.neocore-bureau.com.br	=>  PostgreSQL				=>	216.238.100.102		=> USD 7,5		// 1c, 1GB, 25 GB sto   5432            OK			NA			database
cache.neocore-bureau.com.br	=>  Api Singleton			=>	216.238.101.102		=> USD 7,5		// 1c, 1GB, 25 GB sto   443             OK			OK			.net
 srv1.neocore-bureau.com.br =>  Processamento 			=>	216.238.116.102 	=> USD 27,5		// 2c, 2GB				59540, 59541    OK			NAO USAR	.net
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

op@neocore.com.br / 142536

# --------------------------------------------------------------
# certificados   (renovar em 20/04/2026)
# --------------------------------------------------------------

cd ~/data/certificados

sudo ufw allow 59540/tcp
sudo ufw allow 59541/tcp
sudo ufw allow 443/tcp
sudo ufw allow 80/tcp

sudo certbot certonly --standalone -d neocore-bureau.com.br
sudo certbot certonly --standalone -d cache.neocore-bureau.com.br
sudo certbot certonly --standalone -d srv1.neocore-bureau.com.br
sudo certbot certonly --standalone -d api.neocore-bureau.com.br

sudo chmod 644 /etc/letsencrypt/live/neocore-bureau.com.br/fullchain.pem
sudo chmod 644 /etc/letsencrypt/live/neocore-bureau.com.br/privkey.pem
cp /etc/letsencrypt/live/neocore-bureau.com.br/fullchain.pem .
cp /etc/letsencrypt/live/neocore-bureau.com.br/privkey.pem .

sudo chmod 644 /etc/letsencrypt/live/cache.neocore-bureau.com.br/fullchain.pem
sudo chmod 644 /etc/letsencrypt/live/cache.neocore-bureau.com.br/privkey.pem
cp /etc/letsencrypt/live/cache.neocore-bureau.com.br/fullchain.pem .
cp /etc/letsencrypt/live/cache.neocore-bureau.com.br/privkey.pem .

sudo chmod 644 /etc/letsencrypt/live/srv1.neocore-bureau.com.br/fullchain.pem
sudo chmod 644 /etc/letsencrypt/live/srv1.neocore-bureau.com.br/privkey.pem
cp /etc/letsencrypt/live/srv1.neocore-bureau.com.br/fullchain.pem .
cp /etc/letsencrypt/live/srv1.neocore-bureau.com.br/privkey.pem .

sudo chmod 644 /etc/letsencrypt/live/api.neocore-bureau.com.br/fullchain.pem
sudo chmod 644 /etc/letsencrypt/live/api.neocore-bureau.com.br/privkey.pem
cp /etc/letsencrypt/live/api.neocore-bureau.com.br/fullchain.pem .
cp /etc/letsencrypt/live/api.neocore-bureau.com.br/privkey.pem .


# somente no front

cp /etc/letsencrypt/live/neocore-bureau.com.br/fullchain.pem .
cp /etc/letsencrypt/live/neocore-bureau.com.br/privkey.pem .
openssl dhparam -out dhparam.pem 4096

# somente no back

sudo openssl pkcs12 -export \
-out certificate.pfx \
-inkey /etc/letsencrypt/live/cache.neocore-bureau.com.br/privkey.pem \
-in /etc/letsencrypt/live/cache.neocore-bureau.com.br/fullchain.pem


sudo openssl pkcs12 -export \
-out certificate.pfx \
-inkey /etc/letsencrypt/live/srv1.neocore-bureau.com.br/privkey.pem \
-in /etc/letsencrypt/live/srv1.neocore-bureau.com.br/fullchain.pem



# --------------------------------------------------------------
# downloads
# --------------------------------------------------------------

curl -L -o publish.zip https://www.dropbox.com/scl/fi/msoy1nace6nru7nj1lfxw/publish.zip?rlkey=va2fhe4tvg8md3bm9m65xkl7t&dl=1
killall -9 Master
unzip -o publish.zip
chmod +x Master
./Master 59540 > out1_59540.txt &
./Master 59541 > out1_59541.txt &

